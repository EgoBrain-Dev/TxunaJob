{% extends "base.html" %}

{% block title %}Cadastro Cliente - TxunaJob{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/register_client.js') }}"></script>
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h1><i class="fas fa-user"></i> Cadastro Cliente</h1>
            <p>Crie sua conta para contratar os melhores profissionais</p>
        </div>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash-message {{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <form method="POST" action="{{ url_for('auth.register_client') }}" class="auth-form" id="registrationForm">
            <div class="form-group">
                <label for="username"><i class="fas fa-user"></i> Nome de Usuário *</label>
                <input type="text" id="username" name="username" required 
                       placeholder="Escolha um nome de usuário único">
            </div>

            <div class="form-group">
                <label for="email"><i class="fas fa-envelope"></i> Email *</label>
                <input type="email" id="email" name="email" required 
                       placeholder="seu@email.com">
            </div>

            <div class="form-group">
                <label for="full_name"><i class="fas fa-id-card"></i> Nome Completo *</label>
                <input type="text" id="full_name" name="full_name" required 
                       placeholder="Seu nome completo">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="password"><i class="fas fa-lock"></i> Senha *</label>
                    <div class="password-input-container">
                        <input type="password" id="password" name="password" required 
                               placeholder="Crie uma senha segura">
                        <button type="button" class="password-toggle" id="passwordToggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-bar-inner"></div>
                        </div>
                        <span class="strength-text">Digite sua senha</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="confirm_password"><i class="fas fa-lock"></i> Confirmar Senha *</label>
                    <div class="password-input-container">
                        <input type="password" id="confirm_password" name="confirm_password" required 
                               placeholder="Confirme sua senha">
                        <button type="button" class="password-toggle" id="confirmPasswordToggle">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-match" id="passwordMatch">
                        <span class="match-text">As senhas devem coincidir</span>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="phone"><i class="fas fa-phone"></i> Telefone</label>
                    <input type="tel" id="phone" name="phone" 
                           placeholder="+258 84 123 4567">
                </div>

                <div class="form-group">
                    <label for="location"><i class="fas fa-map-marker-alt"></i> Localização</label>
                    <input type="text" id="location" name="location" 
                           placeholder="Sua cidade ou bairro">
                </div>
            </div>

            <!-- Seção da Licença (Colapsável) -->
            <div class="license-section">
                <div class="license-header">
                    <h3><i class="fas fa-file-contract"></i> Termos e Condições</h3>
                    <p>
                        <button type="button" class="btn-link" id="toggleLicense">
                            <span id="licenseToggleText">Mostrar termos</span>
                            <i class="fas fa-chevron-down" id="licenseToggleIcon"></i>
                        </button>
                    </p>
                </div>
                
                <div class="license-agreement hidden" id="licenseContent">
                    <div class="license-content">
                        <h4>ACORDO DE LICENÇA DE USUÁRIO FINAL (EULA)</h4>
                        <p><strong>Plataforma:</strong> EgoBrain-Dev Licensing & Commerce Platform</p>
                        <p><strong>Versão:</strong> 1.0 | <strong>Data de Vigência:</strong> 2025</p>
                        
                        <div class="license-highlights">
                            <div class="license-point">
                                <i class="fas fa-check-circle text-success"></i>
                                <span><strong>DIREITOS DO USUÁRIO:</strong> Contratar serviços, avaliar profissionais, suporte técnico</span>
                            </div>
                            <div class="license-point">
                                <i class="fas fa-ban text-danger"></i>
                                <span><strong>RESTRIÇÕES:</strong> Não copiar ou redistribuir conteúdo do sistema</span>
                            </div>
                            <div class="license-point">
                                <i class="fas fa-shield-alt text-primary"></i>
                                <span><strong>SEGURANÇA:</strong> Dados protegidos conforme leis de privacidade</span>
                            </div>
                            <div class="license-point">
                                <i class="fas fa-gavel text-warning"></i>
                                <span><strong>LEI APLICÁVEL:</strong> Regido pelas leis da República de Moçambique</span>
                            </div>
                        </div>

                        <div class="license-full-text">
                            <div class="license-section-item">
                                <h5><i class="fas fa-bullseye"></i> 1. OBJETIVO E CONCESSÃO DE USO</h5>
                                <p>Este Acordo de Licença do Usuário Final rege o uso da plataforma TxunaJob por clientes para contratação de serviços profissionais.</p>
                            </div>

                            <div class="license-section-item">
                                <h5><i class="fas fa-check-double"></i> 2. DIREITOS DO CLIENTE</h5>
                                <p>O Cliente pode: criar conta e aceder à plataforma; pesquisar e contratar profissionais; avaliar serviços recebidos; solicitar suporte técnico; receber atualizações da plataforma.</p>
                            </div>

                            <div class="license-section-item">
                                <h5><i class="fas fa-exclamation-triangle"></i> 3. RESPONSABILIDADES DO CLIENTE</h5>
                                <p>O Cliente é responsável por: fornecer informações verdadeiras; respeitar profissionais contratados; pagar pelos serviços acordados; avaliar serviços de forma justa; manter credenciais de acesso seguras.</p>
                            </div>

                            <div class="license-section-item">
                                <h5><i class="fas fa-shield"></i> 4. PRIVACIDADE E DADOS</h5>
                                <p>Seus dados pessoais são protegidos conforme Política de Privacidade. Apenas informações necessárias para prestação de serviços são coletadas.</p>
                            </div>

                            <div class="license-section-item">
                                <h5><i class="fas fa-life-ring"></i> 5. SUPORTE E ATENDIMENTO</h5>
                                <p><strong>Canais Oficiais:</strong> Email: egobrain.mz@gmail.com; WhatsApp: +258 84 361 7130</p>
                                <p><strong>Horário:</strong> Segunda a Sexta: 08h00 - 17h00; Sábados: 09h00 - 12h00</p>
                            </div>
                        </div>

                        <div class="license-contacts">
                            <h5><i class="fas fa-address-card"></i> CONTACTOS OFICIAIS</h5>
                            <div class="contact-item">
                                <i class="fas fa-envelope"></i>
                                <span>egobrain.mz@gmail.com</span>
                            </div>
                            <div class="contact-item">
                                <i class="fab fa-whatsapp"></i>
                                <span>+258 84 361 7130</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-phone"></i>
                                <span>+258 87 861 7130</span>
                            </div>
                            <div class="contact-item">
                                <i class="fas fa-globe"></i>
                                <span>https://egobrain-dev.vercel.app/</span>
                            </div>
                        </div>

                        <div class="license-footer">
                            <div class="company-info">
                                <i class="fas fa-building"></i>
                                <strong>EgoBrain-Dev - Soluções, Licenças & Consultoria Tecnológica</strong>
                            </div>
                            <p class="company-motto">Desenvolvendo o Futuro Digital de Moçambique</p>
                            <div class="document-info">
                                <span><i class="fas fa-file-alt"></i> EULA-1.0</span>
                                <span><i class="fas fa-sync-alt"></i> 2025</span>
                                <span><i class="fas fa-lock"></i> 1.0 - Vigente</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="license-actions">
                    <label class="checkbox-container">
                        <input type="checkbox" id="agree_terms" name="agree_terms" required>
                        <span class="checkmark"></span>
                        <span class="checkbox-label">
                            Li e concordo com os <strong>Termos e Condições</strong> e a <strong>Política de Privacidade</strong>
                        </span>
                    </label>
                    
                    <label class="checkbox-container">
                        <input type="checkbox" id="agree_newsletter" name="agree_newsletter">
                        <span class="checkmark"></span>
                        <span class="checkbox-label">
                            Desejo receber atualizações sobre novos serviços e promoções
                        </span>
                    </label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-full" id="submitBtn" disabled>
                <i class="fas fa-user-plus"></i> Criar Conta Cliente
            </button>
        </form>

        <div class="auth-footer">
            <p>Já tem uma conta? <a href="{{ url_for('auth.login') }}">Faça login aqui</a></p>
            <p>É um profissional? <a href="{{ url_for('auth.register_professional') }}">Cadastre-se como Profissional</a></p>
        </div>
    </div>
</div>
{% endblock %}