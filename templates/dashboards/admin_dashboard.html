{% extends "base.html" %}

{% block title %}Dashboard Administrativo - TxunaJob{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Header do Admin -->
    <div class="dashboard-header">
        <div class="container">
            <div class="dashboard-welcome">
                <h1>Painel Administrativo üõ°Ô∏è</h1>
                <p>Gerencie a plataforma TxunaJob</p>
                <div class="user-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>Administrador</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Estat√≠sticas Gerais -->
        <div class="admin-stats-grid">
            <div class="admin-stat-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-number" id="totalUsers">0</div>
                <div class="stat-label">Total de Usu√°rios</div>
            </div>
            <div class="admin-stat-card success">
                <div class="stat-icon">
                    <i class="fas fa-briefcase"></i>
                </div>
                <div class="stat-number" id="totalProfessionals">0</div>
                <div class="stat-label">Profissionais</div>
            </div>
            <div class="admin-stat-card">
                <div class="stat-icon">
                    <i class="fas fa-tools"></i>
                </div>
                <div class="stat-number" id="totalServices">0</div>
                <div class="stat-label">Servi√ßos Ativos</div>
            </div>
            <div class="admin-stat-card warning">
                <div class="stat-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-number" id="pendingReviews">0</div>
                <div class="stat-label">Verifica√ß√µes Pendentes</div>
            </div>
            <div class="admin-stat-card danger">
                <div class="stat-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="stat-number" id="totalReports">0</div>
                <div class="stat-label">Reports</div>
            </div>
            <div class="admin-stat-card">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-number" id="totalRevenue">0 MT</div>
                <div class="stat-label">Receita Total</div>
            </div>
        </div>

        <!-- A√ß√µes R√°pidas -->
        <div class="quick-admin-actions">
            <div class="admin-action-btn" id="userManagementBtn">
                <i class="fas fa-user-cog"></i>
                <span>Gerir Usu√°rios</span>
            </div>
            <div class="admin-action-btn" id="serviceManagementBtn">
                <i class="fas fa-tasks"></i>
                <span>Gerir Servi√ßos</span>
            </div>
            <div class="admin-action-btn" id="verificationPanelBtn">
                <i class="fas fa-check-circle"></i>
                <span>Verifica√ß√µes</span>
            </div>
            <div class="admin-action-btn" id="reportsBtn">
                <i class="fas fa-chart-bar"></i>
                <span>Relat√≥rios</span>
            </div>
            <div class="admin-action-btn" id="systemSettingsBtn">
                <i class="fas fa-cogs"></i>
                <span>Configura√ß√µes</span>
            </div>
        </div>

        <!-- Conte√∫do Principal -->
        <div class="admin-main-grid">
            <!-- Coluna Principal -->
            <div class="dashboard-main">
                <!-- Gest√£o de Usu√°rios -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2><i class="fas fa-users"></i> Gest√£o de Usu√°rios</h2>
                    </div>
                    <div class="card-body">
                        <div class="loading-spinner" id="usersLoading">Carregando usu√°rios...</div>
                        <table class="user-table" id="usersTable" style="display: none;">
                            <thead>
                                <tr>
                                    <th>Usu√°rio</th>
                                    <th>Tipo</th>
                                    <th>Status</th>
                                    <th>Registro</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Usu√°rios ser√£o carregados via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Servi√ßos Recentes -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2><i class="fas fa-tools"></i> Servi√ßos Recentes</h2>
                    </div>
                    <div class="card-body">
                        <div class="loading-spinner" id="servicesLoading">Carregando servi√ßos...</div>
                        <table class="service-table" id="servicesTable" style="display: none;">
                            <thead>
                                <tr>
                                    <th>Servi√ßo</th>
                                    <th>Profissional</th>
                                    <th>Cliente</th>
                                    <th>Status</th>
                                    <th>Valor</th>
                                </tr>
                            </thead>
                            <tbody id="servicesTableBody">
                                <!-- Servi√ßos ser√£o carregados via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="dashboard-sidebar">
                <!-- Atividades Recentes -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2><i class="fas fa-history"></i> Atividades Recentes</h2>
                    </div>
                    <div class="card-body">
                        <div class="loading-spinner" id="activitiesLoading">Carregando atividades...</div>
                        <div class="recent-activities" id="recentActivities" style="display: none;">
                            <!-- Atividades ser√£o carregadas via JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Sistema Status -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h2><i class="fas fa-server"></i> Status do Sistema</h2>
                    </div>
                    <div class="card-body">
                        <div class="system-status">
                            <div class="status-item">
                                <span>Servidor Web</span>
                                <span class="status-badge status-active" id="webServerStatus">Online</span>
                            </div>
                            <div class="status-item">
                                <span>Base de Dados</span>
                                <span class="status-badge status-active" id="databaseStatus">Online</span>
                            </div>
                            <div class="status-item">
                                <span>API</span>
                                <span class="status-badge status-active" id="apiStatus">Online</span>
                            </div>
                            <div class="status-item">
                                <span>Chat</span>
                                <span class="status-badge status-active" id="chatStatus">Online</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modais ser√£o adicionados aqui -->
<div id="userManagementModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üë• Gest√£o de Usu√°rios</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <div class="loading-spinner">Carregando...</div>
        </div>
    </div>
</div>

<div id="serviceManagementModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üîß Gest√£o de Servi√ßos</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <div class="loading-spinner">Carregando...</div>
        </div>
    </div>
</div>

<div id="verificationModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚úÖ Verifica√ß√µes Pendentes</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <div class="loading-spinner">Carregando...</div>
        </div>
    </div>
</div>

<div id="reportsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìä Relat√≥rios</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <div class="loading-spinner">Carregando...</div>
        </div>
    </div>
</div>

<div id="settingsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>‚öôÔ∏è Configura√ß√µes do Sistema</h2>
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <div class="loading-spinner">Carregando...</div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/admin_dashboard.js') }}"></script>
{% endblock %}